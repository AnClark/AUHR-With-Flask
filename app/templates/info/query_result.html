{% extends 'info/base.html' %}

{% block content %}
    <!--    引入弹出窗口控制程序  -->
    <script src="{{ url_for('static', filename='js/popwindow.js') }}"></script>
    <script>
        function start_query(){
            //TODO: 后期考虑用AJAX实现结果页内的搜索
            var keyword = document.getElementById("keyword").value;
            location.href="/info/query_result?key=" + keyword;
        }
    </script>


    <!--  TODO:前置工具栏  -->
    <div class="query-header">
        <div class="query-header-column">
            <span style="font-size: 30px">关键字查询</span>
        </div>
        <div class="query-header-column">

            <div id="searchbar">
                <span>关键字：</span>
                <input type="text" id="keyword">
                <input type="button" id="start-query" value="查询" onclick="start_query()">
            </div>

        </div>
        <div class="query-header-clear"></div>
    </div>

    <div class="result-container">
        <!--    TODO:打印表头    -->

        <!--    打印出检索到的成员信息     -->
        {% if result_assembly == False %}
            <h2>未查询到关键字：{{ keyword }}</h2>
        {% else %}
            <div class="result-table">
                {% for result in result_assembly %}
                    <div id="member-{{ result['Name'] }}" class="result-table-line" onclick="//TODO:单击后弹窗显示成员信息">
                            {% for value in result.values() %}
                                {{ value }}，
                            {% endfor %}
                    </div>
                {% endfor %}
            </div>
        {% endif %}

    </div>

    <!--    人员详细信息的弹出窗口 -->
    <div class="background-shade" id="shader" onclick="hide_popup_window()"></div>
    <div class="popup-window" id="popup-window">
        <div class="popup-window-title">
            <span>弹出窗口</span>
            <span class="close-button" onclick="hide_popup_window()">[关闭]</span>
        </div>
    </div>
{% endblock %}